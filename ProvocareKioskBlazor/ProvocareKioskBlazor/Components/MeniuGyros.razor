@rendermode InteractiveServer

<div class="product-card" @onclick="(e =>{IncrementCount(); UpdatePrice();})" style="@cardStyle">
    <div class="card" style="width : 18rem;">
        <div class="card-body" style="background-color: @(currentCount > 0 ? "#FF0000" : "#FFFFFF"); ">
            <h5 class="card-title">@productName</h5>
            <p class="card-text">@productDescription</p>
            <p class="card-price">@currentPrice</p>

            @if (currentCount != 0)
            {
                <button class="btn btn-primary" @onclick="(e => { DecrementCount(); UpdatePrice(); })">-</button>
                @currentCount
                <button class="btn btn-primary" @onclick="UpdatePrice">+</button>
            }
        </div>
    </div>
</div>


@code {
    private string imageUrl = "https://ibb.co/Yf434xM";
    private string productName = "Meniu Gyros Puisor";
    private string productDescription = "Pizza Italiana impartita in 4 sectiuni, fiecare reprezand un anotimp diferit.";
    private int productPrice = 43;

    private int currentCount = 0, currentPrice = 0;

    string cardStyle = "";



    private void IncrementCount()
    {
        currentCount++;
        cardStyle = "animation: heartbeat 0.3s ;";
    }
    void DecrementCount()
    {
        currentCount -= 2;
        cardStyle = "animation: heartbeat 0.3s;";
    }
    private void UpdatePrice()
    {
        currentPrice = currentCount * productPrice;
        cardStyle = "animation: heartbeat 0.6s;";
    }

    string isAddedToCart()
    {
        if (currentCount > 0) return "#FF0000";
        else return "#FFFFFF";
    }
}
